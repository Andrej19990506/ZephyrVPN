# –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Kafka (Aiven) –≤ Railway

## –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –¥–ª—è Kafka

–î–ª—è –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ Kafka –≤ Aiven Cloud –Ω—É–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å —Å–ª–µ–¥—É—é—â–∏–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –≤ Railway:

### 1. KAFKA_BROKERS
- **Name:** `KAFKA_BROKERS`
- **Value:** `kafka-32d812a9-andrejnikolaevich2016-52c9.k.aivencloud.com:21467`

### 2. KAFKA_USERNAME
- **Name:** `KAFKA_USERNAME`
- **Value:** `avnadmin`

### 3. KAFKA_PASSWORD
- **Name:** `KAFKA_PASSWORD`
- **Value:** `—Ç–≤–æ–π_–ø–∞—Ä–æ–ª—å_–∏–∑_–ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö` (–∑–∞–º–µ–Ω–∏—Ç–µ –Ω–∞ —Ä–µ–∞–ª—å–Ω—ã–π –ø–∞—Ä–æ–ª—å –∏–∑ Aiven)

### 4. KAFKA_CA_CERT (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ, –Ω–æ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)
- **Name:** `KAFKA_CA_CERT`
- **Value:** –í—Å—Ç–∞–≤—å—Ç–µ –≤–µ—Å—å —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç, –≤–∫–ª—é—á–∞—è `-----BEGIN CERTIFICATE-----` –∏ `-----END CERTIFICATE-----`:

```
-----BEGIN CERTIFICATE-----
MIIERDCCAqygAwIBAgIUC1Xi2MRX2vGZn5A+wvyYzOpKzEEwDQYJKoZIhvcNAQEM
BQAwOjE4MDYGA1UEAwwvNWZhMTM1OTQtOWExZC00Zjk2LTk0YTQtNmQzYWEyMzM3
ZjBmIFByb2plY3QgQ0EwHhcNMjYwMjAzMDAwODE0WhcNMzYwMjAxMDAwODE0WjA6
MTgwNgYDVQQDDC81ZmExMzU5NC05YTFkLTRmOTYtOTRhNC02ZDNhYTIzMzdmMGYg
UHJvamVjdCBDQTCCAaIwDQYJKoZIhvcNAQEBBQADggGPADCCAYoCggGBAI8VtMer
CELYXbKZu0Ru7EmsuhWg6/9SXmn2ALg20H8rnI1kR8twxRuBriE9PrgRrnLA5sVS
vqI8hKD7ZpfReXiRtfFgBKbm618rcVptHGu2Bzi+Hg4qSOdDoA99Jk66O2C7WhAk
HmXLPlEhwFSFex5dSuGAhMiAg9O+W4v+KDT0ks0bDTeLGe+8dLx2H5cFKxDmbIde
AApB5w1SBjs8ZCwiRvKmc8YYyZ78M+hH27u0M0I7t0qXDFZTE9Vif/n8FqyJsMzs
Kr5UEgo07SAvt3QszrB5x+ZQRldEov/CzcNjQELR8WVDpz4KQkdLKn5ln7FYaRzX
Y2wBa/sGRV9McXtpF1P9va8X3l2MaNn+Hh7iEa3AI6UaddPJXa6i/Ya5Emdy/8Wa
e3JMjCYwG4vevRw5D8c9PWhJAbuedRImAaLCXhufSEAUUb+q9+tBheYmR7ec3YwS
J2Y4gSSkzIA+RFjxNrdZ90IC1MaZYfAEzp55ruAT5Ng6xFAR8OUqazbFTwIDAQAB
o0IwQDAdBgNVHQ4EFgQUJS9HAUOAPQ0qLrYc0OhUeJ4BAEgwEgYDVR0TAQH/BAgw
BgEB/wIBADALBgNVHQ8EBAMCAQYwDQYJKoZIhvcNAQEMBQADggGBAG2jm6S+ID4e
2ZSulstZlSf9u4fEtk1pc3l9z8DJyvkuPOKb/dgZDDN87lSeIpTByJktaBMVmgTT
1Y2auHmqj5GJRVHOMLumNdwol8tDxGUHN9r7U22IsHCW3kzIlnALjpA9DK7orfkL
Dc4owEtBAS9J6tY4aUisKgkzAB4CnD0fKZTEYkAbvnGsRFAR1TUwbNzBTNCY5UKv
m2YSgmmh7HraeW78GC+T7vwScEIEguy4Y4OPIdd3qa1zF7apXo0xqbceXX/rJrCu
8MedWrlaomlBp5ffpGVC+Mh7ueT4fhWEpyHTo8VdxuCL3oSRVibV00oDjqWvN7Pf
yAec+p8Fr4QMUnp4py+hFYh2KI4gNr5iwQjZaP+20v9W+JkzpDOXPRcoKUP+rYqK
nbUtd+tHBmtbrU/rsyy9tUB28yZxAhXGBTMy+6Fpc9e3opS0G0nWouc2SN178iwJ
QO2/uM60wdO06wUue6yNQDMtT7HyAvf8eKNO/+9BYZgpt/aOXx0/EQ==
-----END CERTIFICATE-----
```

## –ö–∞–∫ –¥–æ–±–∞–≤–∏—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –≤ Railway

1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ –≤–∞—à **Go —Å–µ—Ä–≤–∏—Å** –≤ Railway Dashboard
2. –û—Ç–∫—Ä–æ–π—Ç–µ –≤–∫–ª–∞–¥–∫—É **Variables**
3. –ù–∞–∂–º–∏—Ç–µ **+ New Variable** –¥–ª—è –∫–∞–∂–¥–æ–π –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π
4. –î–æ–±–∞–≤—å—Ç–µ –≤—Å–µ 4 –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ (–∏–ª–∏ –º–∏–Ω–∏–º—É–º 3, –µ—Å–ª–∏ –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ CA —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç)

## –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ—Å–ª–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏

–ü–æ—Å–ª–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –∏ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞ —Å–µ—Ä–≤–∏—Å–∞ –≤ –ª–æ–≥–∞—Ö –¥–æ–ª–∂–Ω–æ –ø–æ—è–≤–∏—Ç—å—Å—è:

```
üì° KAFKA_BROKERS —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω: kafka-32d812a9-andrejnikolaevich2016-52c9.k.aivencloud.com:21467
üîê Kafka: SASL/PLAIN –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è –≤–∫–ª—é—á–µ–Ω–∞ (username: avnadmin)
üîí Kafka: TLS –≤–∫–ª—é—á–µ–Ω (—Å–∏—Å—Ç–µ–º–Ω—ã–µ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã)
‚úÖ Kafka producer –ø–æ–¥–∫–ª—é—á–µ–Ω –∫ kafka-32d812a9-andrejnikolaevich2016-52c9.k.aivencloud.com:21467
üì° Kafka WS Consumer –∑–∞–ø—É—â–µ–Ω: —á–∏—Ç–∞–µ—Ç —Å FirstOffset, GroupID=kitchen-ws-group-v3
```

–í–º–µ—Å—Ç–æ –æ—à–∏–±–æ–∫:
```
‚ö†Ô∏è Kafka WS Consumer –æ—à–∏–±–∫–∞ —á—Ç–µ–Ω–∏—è: failed to dial: failed to open connection to localhost:9092
```

## –í–∞–∂–Ω—ã–µ –∑–∞–º–µ—á–∞–Ω–∏—è

1. **–ü–∞—Ä–æ–ª—å:** –ó–∞–º–µ–Ω–∏—Ç–µ `—Ç–≤–æ–π_–ø–∞—Ä–æ–ª—å_–∏–∑_–ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö` –Ω–∞ —Ä–µ–∞–ª—å–Ω—ã–π –ø–∞—Ä–æ–ª—å –∏–∑ –≤–∞—à–µ–≥–æ Aiven –ø—Ä–æ–µ–∫—Ç–∞
2. **CA —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç:** –ï—Å–ª–∏ –Ω–µ —É–∫–∞–∑–∞—Ç—å `KAFKA_CA_CERT`, –±—É–¥–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è `InsecureSkipVerify: false` —Å —Å–∏—Å—Ç–µ–º–Ω—ã–º–∏ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞–º–∏. –î–ª—è production –ª—É—á—à–µ —É–∫–∞–∑–∞—Ç—å CA —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç.
3. **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å:** –ù–µ –∫–æ–º–º–∏—Ç—å—Ç–µ –ø–∞—Ä–æ–ª–∏ –∏ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã –≤ Git!

## –ì–¥–µ –Ω–∞–π—Ç–∏ –ø–∞—Ä–æ–ª—å –≤ Aiven

1. –í–æ–π–¥–∏—Ç–µ –≤ Aiven Console
2. –û—Ç–∫—Ä–æ–π—Ç–µ –≤–∞—à Kafka —Å–µ—Ä–≤–∏—Å
3. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ **Overview** ‚Üí **Service URI**
4. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ –ø–∞—Ä–æ–ª—å –∏–∑ —Å—Ç—Ä–æ–∫–∏ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è (–ø–æ—Å–ª–µ `:` –≤ `avnadmin:password@`)

